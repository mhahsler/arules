<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Item Coding -- Handling Item Labels and Column IDs Conversions — itemCoding • arules</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">arules</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference Manual</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/mhahsler/arules/">Development Version</a>
</li>
<li>
  <a href="https://github.com/mhahsler/arules">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="http://michael.hahsler.net">Michael Hahsler (Maintainer)</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Item Coding -- Handling Item Labels and Column IDs Conversions</h1>
    </div>

    
    <p>Provides the generic functions and the S4 methods for converting item labels
  into column IDs used in the binary matrix representation and vice versa.</p>

    <p><code>decode</code> converts from the numeric (column IDs) representation to
  readable item labels.  <code>decode</code> is used by <code><a href='LIST.html'>LIST</a></code>.</p>

    <p><code>encode</code> converts from readable item labels to an itemMatrix using a
  given coding. With this method it is possible to create several compatible
  <code>itemMatrix</code> objects (i.e., use the same binary representation for
  items) from data.</p>

    <p><code>recode</code> recodes an <code>itemMatrix</code> object so its coding is compatible
  with another object or the matrix follows a certain order of items.</p>
    

    <pre>decode(x, &#8230;)
# S4 method for list
decode(x, itemLabels)
# S4 method for numeric
decode(x, itemLabels)

encode(x, &#8230;)
# S4 method for list
encode(x, itemLabels, itemMatrix = TRUE)
# S4 method for character
encode(x, itemLabels, itemMatrix = TRUE)
# S4 method for numeric
encode(x, itemLabels, itemMatrix = TRUE)

recode(x, &#8230;)
# S4 method for itemMatrix
recode(x, itemLabels = NULL, match = NULL)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>x</dt>
      <dd> a vector or a list of vectors of character strings 
	(for <code>encode</code>) or of numeric (for <code>decode</code>), or
	an object of class <code>itemMatrix</code> (for <code>recode</code>).</dd>
      <dt>itemLabels</dt>
      <dd>a vector of character strings used for coding where 
    the position of an item label in the vector gives the item&#39;s column ID.  
    The used <code>itemLabels</code> vector can be obtained from <code>itemMatrix</code>,  
    <code>transactions</code> and <code>associations</code> by the 
    method <code>itemLabels</code>.</dd>
      <dt>itemMatrix</dt>
      <dd>return an object of class <code>itemMatrix</code> otherwise
      an object of the same class as <code>x</code> is returned.</dd>
      <dt>match</dt>
      <dd>an <code>itemMatrix</code> object whose item coding <code>x</code> 
	should match.</dd>
      <dt>&#8230;</dt>
      <dd>further arguments.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>recode</code> always returns an object
      of class <code>itemMatrix</code>.</p>
    <p>For <code>encode</code> with <code>itemMatrix = TRUE</code> an object
   of class <code>itemMatrix</code> is returned.
   Otherwise the result is of the same type as <code>x</code>, e.g., a
   list or a vector.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='LIST.html'>LIST</a></code>,
  <code><a href='associations-class.html'>associations-class</a></code>,
  <code><a href='itemMatrix-class.html'>itemMatrix-class</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>data</span>(<span class='st'>"Adult"</span>)

<span class='co'>## Example 1: Manual decoding</span>
<span class='co'>## get code</span>
<span class='no'>iLabels</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='itemMatrix-class.html'>itemLabels</a></span>(<span class='no'>Adult</span>)
<span class='fu'><a href='sort.html'>head</a></span>(<span class='no'>iLabels</span>)</div><div class='output co'>#&gt; [1] &quot;age=Young&quot;             &quot;age=Middle-aged&quot;       &quot;age=Senior&quot;           
#&gt; [4] &quot;age=Old&quot;               &quot;workclass=Federal-gov&quot; &quot;workclass=Local-gov&quot;  </div><div class='input'>
<span class='co'>## get undecoded list and decode in a second step</span>
<span class='no'>list</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='LIST.html'>LIST</a></span>(<span class='no'>Adult</span>[<span class='fl'>1</span>:<span class='fl'>5</span>], <span class='kw'>decode</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>list</span></div><div class='output co'>#&gt; [[1]]
#&gt;  [1]   2  11  26  33  36  51  60  62  64  66  70 111 114
#&gt; 
#&gt; [[2]]
#&gt;  [1]   3  10  26  31  39  50  60  62  63  66  69 111 114
#&gt; 
#&gt; [[3]]
#&gt;  [1]   2   8  21  29  41  51  60  62  63  66  70 111 114
#&gt; 
#&gt; [[4]]
#&gt;  [1]   3   8  19  31  41  50  58  62  63  66  70 111 114
#&gt; 
#&gt; [[5]]
#&gt;  [1]   2   8  26  31  45  55  58  61  63  66  70  77 114
#&gt; </div><div class='input'>
<span class='fu'>decode</span>(<span class='no'>list</span>, <span class='kw'>itemLabels</span> <span class='kw'>=</span> <span class='no'>iLabels</span>)</div><div class='output co'>#&gt; [[1]]
#&gt;  [1] &quot;age=Middle-aged&quot;              &quot;workclass=State-gov&quot;         
#&gt;  [3] &quot;education=Bachelors&quot;          &quot;marital-status=Never-married&quot;
#&gt;  [5] &quot;occupation=Adm-clerical&quot;      &quot;relationship=Not-in-family&quot;  
#&gt;  [7] &quot;race=White&quot;                   &quot;sex=Male&quot;                    
#&gt;  [9] &quot;capital-gain=Low&quot;             &quot;capital-loss=None&quot;           
#&gt; [11] &quot;hours-per-week=Full-time&quot;     &quot;native-country=United-States&quot;
#&gt; [13] &quot;income=small&quot;                
#&gt; 
#&gt; [[2]]
#&gt;  [1] &quot;age=Senior&quot;                        &quot;workclass=Self-emp-not-inc&quot;       
#&gt;  [3] &quot;education=Bachelors&quot;               &quot;marital-status=Married-civ-spouse&quot;
#&gt;  [5] &quot;occupation=Exec-managerial&quot;        &quot;relationship=Husband&quot;             
#&gt;  [7] &quot;race=White&quot;                        &quot;sex=Male&quot;                         
#&gt;  [9] &quot;capital-gain=None&quot;                 &quot;capital-loss=None&quot;                
#&gt; [11] &quot;hours-per-week=Part-time&quot;          &quot;native-country=United-States&quot;     
#&gt; [13] &quot;income=small&quot;                     
#&gt; 
#&gt; [[3]]
#&gt;  [1] &quot;age=Middle-aged&quot;              &quot;workclass=Private&quot;           
#&gt;  [3] &quot;education=HS-grad&quot;            &quot;marital-status=Divorced&quot;     
#&gt;  [5] &quot;occupation=Handlers-cleaners&quot; &quot;relationship=Not-in-family&quot;  
#&gt;  [7] &quot;race=White&quot;                   &quot;sex=Male&quot;                    
#&gt;  [9] &quot;capital-gain=None&quot;            &quot;capital-loss=None&quot;           
#&gt; [11] &quot;hours-per-week=Full-time&quot;     &quot;native-country=United-States&quot;
#&gt; [13] &quot;income=small&quot;                
#&gt; 
#&gt; [[4]]
#&gt;  [1] &quot;age=Senior&quot;                        &quot;workclass=Private&quot;                
#&gt;  [3] &quot;education=11th&quot;                    &quot;marital-status=Married-civ-spouse&quot;
#&gt;  [5] &quot;occupation=Handlers-cleaners&quot;      &quot;relationship=Husband&quot;             
#&gt;  [7] &quot;race=Black&quot;                        &quot;sex=Male&quot;                         
#&gt;  [9] &quot;capital-gain=None&quot;                 &quot;capital-loss=None&quot;                
#&gt; [11] &quot;hours-per-week=Full-time&quot;          &quot;native-country=United-States&quot;     
#&gt; [13] &quot;income=small&quot;                     
#&gt; 
#&gt; [[5]]
#&gt;  [1] &quot;age=Middle-aged&quot;                   &quot;workclass=Private&quot;                
#&gt;  [3] &quot;education=Bachelors&quot;               &quot;marital-status=Married-civ-spouse&quot;
#&gt;  [5] &quot;occupation=Prof-specialty&quot;         &quot;relationship=Wife&quot;                
#&gt;  [7] &quot;race=Black&quot;                        &quot;sex=Female&quot;                       
#&gt;  [9] &quot;capital-gain=None&quot;                 &quot;capital-loss=None&quot;                
#&gt; [11] &quot;hours-per-week=Full-time&quot;          &quot;native-country=Cuba&quot;              
#&gt; [13] &quot;income=small&quot;                     
#&gt; </div><div class='input'>
<span class='co'>## Example 2: Manually create an itemMatrix </span>
<span class='no'>data</span> <span class='kw'>&lt;-</span> <span class='fu'>list</span>(
    <span class='fu'><a href='combine.html'>c</a></span>(<span class='st'>"income=small"</span>, <span class='st'>"age=Young"</span>),
    <span class='fu'><a href='combine.html'>c</a></span>(<span class='st'>"income=large"</span>, <span class='st'>"age=Middle-aged"</span>)
    )

<span class='no'>iM</span> <span class='kw'>&lt;-</span> <span class='fu'>encode</span>(<span class='no'>data</span>, <span class='no'>iLabels</span>)
<span class='no'>iM</span></div><div class='output co'>#&gt; itemMatrix in sparse format with
#&gt;  2 rows (elements/transactions) and
#&gt;  115 columns (items)</div><div class='input'>
<span class='fu'><a href='inspect.html'>inspect</a></span>(<span class='no'>iM</span>)</div><div class='output co'>#&gt;     items                         
#&gt; [1] {age=Young,income=small}      
#&gt; [2] {age=Middle-aged,income=large}</div><div class='input'>
<span class='co'>## use the itemMatrix to create transactions</span>
<span class='fu'>as</span>(<span class='no'>iM</span>, <span class='st'>"transactions"</span>)</div><div class='output co'>#&gt; transactions in sparse format with
#&gt;  2 transactions (rows) and
#&gt;  115 items (columns)</div><div class='input'>

<span class='co'>## Example 3: use recode</span>
<span class='co'>## select first 100 transactions and all education-related items</span>
<span class='no'>sub</span> <span class='kw'>&lt;-</span> <span class='no'>Adult</span>[<span class='fl'>1</span>:<span class='fl'>100</span>, <span class='fu'><a href='itemMatrix-class.html'>itemInfo</a></span>(<span class='no'>Adult</span>)$<span class='no'>variables</span> <span class='kw'>==</span>  <span class='st'>"education"</span>]
<span class='fu'><a href='itemMatrix-class.html'>itemLabels</a></span>(<span class='no'>sub</span>)</div><div class='output co'>#&gt;  [1] &quot;education=Preschool&quot;    &quot;education=1st-4th&quot;      &quot;education=5th-6th&quot;     
#&gt;  [4] &quot;education=7th-8th&quot;      &quot;education=9th&quot;          &quot;education=10th&quot;        
#&gt;  [7] &quot;education=11th&quot;         &quot;education=12th&quot;         &quot;education=HS-grad&quot;     
#&gt; [10] &quot;education=Prof-school&quot;  &quot;education=Assoc-acdm&quot;   &quot;education=Assoc-voc&quot;   
#&gt; [13] &quot;education=Some-college&quot; &quot;education=Bachelors&quot;    &quot;education=Masters&quot;     
#&gt; [16] &quot;education=Doctorate&quot;   </div><div class='input'><span class='fu'><a href='image.html'>image</a></span>(<span class='no'>sub</span>)</div><img src='itemCoding-16.png' alt='' width='540' height='400' /><div class='input'>
<span class='co'>## recode to match Adult again</span>
<span class='no'>sub.recoded</span> <span class='kw'>&lt;-</span> <span class='fu'>recode</span>(<span class='no'>sub</span>, <span class='kw'>match</span> <span class='kw'>=</span> <span class='no'>Adult</span>)
<span class='fu'><a href='image.html'>image</a></span>(<span class='no'>sub.recoded</span>)</div><img src='itemCoding-18.png' alt='' width='540' height='400' /></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    Michael Hahsler
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Michael Hahsler, Christian Buchta, Bettina Gruen, Kurt Hornik.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
